{"version":3,"sources":["DualContainer.js"],"names":["define","base","Widget","DualContainer","inherit","klassName","_construct","parent","prototype","call","this","skin","getSkin","_elm","style","overflow","backgroundColor","panelColor","_elmA","_elmB","resizeTab","document","createElement","position","cursor","resizeTabColor","appendChild","tabPosition","tabPositionMax","tabPositionMin","tabSize","orientation","HORIZONTAL","self","connect","window","event","movementX","size","x","VERTICAL","movementY","y","updateInterface","manager","destroy","attach","element","console","warn","attachB","attachA","attachTo","updateSize","tabPositionAbs","set","top","left","width","height","log"],"mappings":"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","file":"../DualContainer.js","sourcesContent":["define([\n\t\"./base\",\n\t\"./Widget\",\n],function( base, Widget){\n\t\"use strict\";\n\n\tvar DualContainer = Widget.inherit({\n\t\t\"klassName\" : \"DualContainer\",\n\n\t\t\"_construct\" : function (parent) {\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\n\n\t\t\tvar skin = this.getSkin();\n\n\t\t\tthis._elm.style.overflow = \"hidden\";\n\t\t\t//this._elm.style.backgroundColor = Editor.theme.panelColor;\n\t\t\tthis._elm.style.backgroundColor = skin.panelColor;\n\n\t\t\t//Container A\n\t\t\tthis._elmA = null\n\n\t\t\t//Container B\n\t\t\tthis._elmB = null\n\n\t\t\t//Resize tab\n\t\t\tthis.resizeTab = document.createElement(\"div\");\n\t\t\tthis.resizeTab.style.position = \"absolute\";\n\t\t\tthis.resizeTab.style.cursor = \"e-resize\";\n\n\n\t\t\t//this.resizeTab.style.backgroundColor = Editor.theme.resizeTabColor;\n\t\t\tthis.resizeTab.style.backgroundColor = skin.resizeTabColor;\n\t\t\tthis._elm.appendChild(this.resizeTab);\n\n\t\t\t//Resize Tab\n\t\t\tthis.tabPosition = 0.5;\n\t\t\tthis.tabPositionMax = 0.95;\n\t\t\tthis.tabPositionMin = 0.05;\n\t\t\tthis.tabSize = 5;\n\t\t\tthis.orientation = DualContainer.HORIZONTAL;\n\n\t\t\tvar self = this;\n\n\t\t\t//Tab mouse down\n\t\t\t//this.resizeTab.onmousedown = function(event)\n\t\t\t//{\n\t\t\t//\tself.manager.create();\n\t\t\t//};\n\n\t\t\t//Tab resize event manager\n\t\t\t//this.manager = new EventManager();\n\t\t\tthis.connect(window, \"mousemove\", function(event)\n\t\t\t{\n\t\t\t\tif(self.orientation === DualContainer.HORIZONTAL)\n\t\t\t\t{\t\n\t\t\t\t\tself.tabPosition += event.movementX / self.size.x;\n\t\t\t\t}\n\t\t\t\telse if(self.orientation === DualContainer.VERTICAL)\n\t\t\t\t{\n\t\t\t\t\tself.tabPosition += event.movementY / self.size.y;\n\t\t\t\t}\n\n\t\t\t\t//Limit tab position\n\t\t\t\tif(self.tabPosition > self.tabPositionMax)\n\t\t\t\t{\n\t\t\t\t\tself.tabPosition = self.tabPositionMax;\n\t\t\t\t}\n\t\t\t\telse if(self.tabPosition < self.tabPositionMin)\n\t\t\t\t{\n\t\t\t\t\tself.tabPosition = self.tabPositionMin;\n\t\t\t\t}\n\n\t\t\t\tself.updateInterface();\n\t\t\t});\n\n\t\t\tthis.connect(window, \"mouseup\", function(event)\n\t\t\t{\n\t\t\t\tself.manager.destroy();\n\t\t\t});\n\t\t},\n\n\t\tattach : function(element) \t{\n\t\t\tif(this._elmA === null)\n\t\t\t{\n\t\t\t\tthis.attachA(element);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif(this._elmB === null) {\n\t\t\t\tthis.attachB(element);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconsole.warn(\"nunuStudio: Cannot attach more elements.\");\n\t\t},\n\n\t\tattachA : function(element) {\n\t\t\tthis._elmA = element;\n\t\t\tthis._elmA.attachTo(this);\n\t\t},\n\n\t\tattachB : function(element) {\n\t\t\tthis._elmB = element;\n\t\t\tthis._elmB.attachTo(this);\n\t\t},\n\n\t\tupdateSize : function() {\n\t\t\tWidget.prototype.updateSize.call(this);\n\n\t\t\tif(this._elmA === null || this._elmB === null) \t{\n\t\t\t\tconsole.log(\"nunuStudio: Dual container elements are null\", this, this._elmA, this._elmB);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(this.orientation === DualContainer.HORIZONTAL) {\n\t\t\t\tvar tabPositionAbs = this.tabPosition * this.size.x;\n\n\t\t\t\tthis._elmA.position.set(0, 0);\n\t\t\t\tthis._elmA.size.set(tabPositionAbs, this.size.y);\n\t\t\t\tthis._elmA.updateInterface();\n\n\t\t\t\tthis._elmB.size.set(this.size.x - tabPositionAbs - this.tabSize, this.size.y);\n\t\t\t\tthis._elmB.position.set(this._elmA.size.x + this.tabSize, 0);\n\t\t\t\tthis._elmB.updateInterface();\n\n\t\t\t\tthis.resizeTab.style.cursor = \"e-resize\";\n\t\t\t\tthis.resizeTab.style.top = \"0px\";\n\t\t\t\tthis.resizeTab.style.left = this._elmA.size.x + \"px\";\n\t\t\t\tthis.resizeTab.style.width = this.tabSize + \"px\";\n\t\t\t\tthis.resizeTab.style.height = this.size.y + \"px\";\n\t\t\t} else if(this.orientation === DualContainer.VERTICAL) \t{\n\t\t\t\tvar tabPositionAbs = this.tabPosition * this.size.y;\n\t\t\t\t\n\t\t\t\tthis._elmA.position.set(0, 0);\n\t\t\t\tthis._elmA.size.set(this.size.x, tabPositionAbs);\n\t\t\t\tthis._elmA.updateInterface();\n\t\t\t\t\n\t\t\t\tthis._elmB.size.set(this.size.x, this.size.y - tabPositionAbs - this.tabSize);\n\t\t\t\tthis._elmB.position.set(0, this._elmA.size.y + this.tabSize);\n\t\t\t\tthis._elmB.updateInterface();\n\n\t\t\t\tthis.resizeTab.style.cursor = \"n-resize\";\n\t\t\t\tthis.resizeTab.style.top = this._elmA.size.y + \"px\";\n\t\t\t\tthis.resizeTab.style.left = \"0px\";\n\t\t\t\tthis.resizeTab.style.width = this.size.x + \"px\";\n\t\t\t\tthis.resizeTab.style.height = this.tabSize + \"px\";\n\t\t\t}\n\t\t}\n\n\t});\n\n\tDualContainer.HORIZONTAL = 0;\n\tDualContainer.VERTICAL = 1;\n\n\n\treturn base.DualContainer = DualContainer;\n});"]}