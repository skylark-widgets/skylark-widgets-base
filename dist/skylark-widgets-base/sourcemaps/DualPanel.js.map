{"version":3,"sources":["DualPanel.js"],"names":["define","base","Widget","Panel","DualPanel","inherit","klassName","_construct","parent","prototype","call","this","skin","getSkin","_elm","style","overflow","backgroundColor","panelColor","divA","element","divB","resizeTab","document","createWidget","position","cursor","resizeTabColor","appendChild","tabPosition","tabPositionMax","tabPositionMin","tabSize","orientation","HORIZONTAL","self","connect","window","event","movementX","size","x","VERTICAL","movementY","y","updateInterface","onResize","manager","destroy","Editor","gui","setOnResize","callback","updateSize","tabPositionAbs","set","top","left","width","height","containers"],"mappings":"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","file":"../DualPanel.js","sourcesContent":["define([\n\t\"./base\",\n\t\"./Widget\",\n\t\"./Panel\"\n],function( base, Widget,Panel){\n\t\"use strict\";\n\n\n\tvar DualPanel = Widget.inherit({\n\t\t\"klassName\" : \"DualPanel\",\n\n\t\t\"_construct\" : function (parent) {\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\n\n\t\t\tvar skin = this.getSkin();\n\n\t\t\tthis._elm.style.overflow = \"hidden\";\n\t\t\t//this._elm.style.backgroundColor = Editor.theme.panelColor;\t\t\n\t\t\tthis._elm.style.backgroundColor = skin.panelColor;\n\n\t\t\t//Division A\n\t\t\tthis.divA = new Panel(this);\n\t\t\t//this.divA.element.style.backgroundColor = Editor.theme.panelColor;\n\t\t\tthis.divA.element.style.backgroundColor = skin.panelColor;\n\n\t\t\t//Division B\n\t\t\tthis.divB = new Panel(this);\n\t\t\t//this.divB.element.style.backgroundColor = Editor.theme.panelColor;\n\t\t\tthis.divB.element.style.backgroundColor = skin.panelColor;\n\t\t\t\n\t\t\t//Resize tab\n\t\t\tthis.resizeTab = document.createWidget(\"div\");\n\t\t\tthis.resizeTab.style.position = \"absolute\";\n\t\t\tthis.resizeTab.style.cursor = \"e-resize\";\n\t\t\t//this.resizeTab.style.backgroundColor = Editor.theme.resizeTabColor;\n\t\t\tthis.resizeTab.style.backgroundColor = skin.resizeTabColor;\n\t\t\tthis._elm.appendChild(this.resizeTab);\n\n\t\t\t//Resize Tab\n\t\t\tthis.tabPosition = 0.5;\n\t\t\tthis.tabPositionMax = 1;\n\t\t\tthis.tabPositionMin = 0;\n\t\t\tthis.tabSize = 5;\n\t\t\tthis.orientation = DualPanel.HORIZONTAL;\n\n\t\t\tvar self = this;\n\n\t\t\t//Tab mouse down\n\t\t\t//this.resizeTab.onmousedown = function(event){\n\t\t\t//\tself.manager.create();\n\t\t\t//};\n\n\t\t\t//Tab resize event manager\n\t\t\t//this.manager = new EventManager();\n\t\t\tthis.connect(window, \"mousemove\", function(event){\n\t\t\t\tif(self.orientation === DualPanel.HORIZONTAL){\t\n\t\t\t\t\tself.tabPosition += event.movementX / self.size.x;\n\t\t\t\t} else if(self.orientation === DualPanel.VERTICAL) {\n\t\t\t\t\tself.tabPosition += event.movementY / self.size.y;\n\t\t\t\t}\n\n\t\t\t\t//Limit tab position\n\t\t\t\tif(self.tabPosition > self.tabPositionMax) {\n\t\t\t\t\tself.tabPosition = self.tabPositionMax;\n\t\t\t\t} else if(self.tabPosition < self.tabPositionMin) {\n\t\t\t\t\tself.tabPosition = self.tabPositionMin;\n\t\t\t\t}\n\n\t\t\t\tself.updateInterface();\n\t\t\t\tself.onResize();\n\t\t\t});\n\n\t\t\tthis.connect(window, \"mouseup\", function(event) {\n\t\t\t\tself.manager.destroy();\n\t\t\t});\n\n\t\t\t//onResize callback\n\t\t\tthis.onResize = function() \t{\n\t\t\t\tEditor.gui.updateInterface();\n\t\t\t};\n\t\t},\n\n\t\tsetOnResize : function(callback) {\n\t\t\tthis.onResize = callback;\n\t\t},\n\n\t\tupdateSize : function() {\n\t\t\tWidget.prototype.updateSize.call(this);\n\n\t\t\tif(this.orientation === DualPanel.HORIZONTAL) {\n\t\t\t\tvar tabPositionAbs = this.tabPosition * this.size.x;\n\t\t\t\t\n\t\t\t\tthis.divA.position.set(0, 0);\n\t\t\t\tthis.divA.size.set(tabPositionAbs, this.size.y);\n\t\t\t\tthis.divA.updateInterface();\n\n\t\t\t\tthis.divB.size.set(this.size.x - tabPositionAbs - this.tabSize, this.size.y);\n\t\t\t\tthis.divB.position.set(this.divA.size.x + this.tabSize, 0);\n\t\t\t\tthis.divB.updateInterface();\n\n\t\t\t\tthis.resizeTab.style.cursor = \"e-resize\";\n\t\t\t\tthis.resizeTab.style.top = \"0px\";\n\t\t\t\tthis.resizeTab.style.left = this.divA.size.x + \"px\";\n\t\t\t\tthis.resizeTab.style.width = this.tabSize + \"px\";\n\t\t\t\tthis.resizeTab.style.height = this.size.y + \"px\";\n\t\t\t} else if(this.orientation === DualPanel.VERTICAL) {\n\t\t\t\tvar tabPositionAbs = this.tabPosition * this.size.y;\n\n\t\t\t\tthis.divA.position.set(0, 0);\n\t\t\t\tthis.divA.size.set(this.size.x, tabPositionAbs);\n\t\t\t\tthis.divA.updateInterface();\n\n\t\t\t\tthis.divB.size.set(this.size.x, this.size.y - tabPositionAbs - this.tabSize);\n\t\t\t\tthis.divB.position.set(0, this.divA.size.y + this.tabSize);\n\t\t\t\tthis.divB.updateInterface();\n\n\t\t\t\tthis.resizeTab.style.cursor = \"n-resize\";\n\t\t\t\tthis.resizeTab.style.top = this.divA.size.y + \"px\";\n\t\t\t\tthis.resizeTab.style.left = \"0px\";\n\t\t\t\tthis.resizeTab.style.width = this.size.x + \"px\";\n\t\t\t\tthis.resizeTab.style.height = this.tabSize + \"px\";\n\t\t\t}\n\t\t}\n\t});\n\n\n\tDualPanel.HORIZONTAL = 0;\n\tDualPanel.VERTICAL = 1;\n\n\treturn containers.DualPanel = DualPanel;\n});\n"]}