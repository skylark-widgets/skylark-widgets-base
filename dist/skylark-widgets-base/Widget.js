/**
 * skylark-widgets-base - The skylark widget base library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser","skylark-domx-data","skylark-domx-eventer","skylark-domx-noder","skylark-domx-geom","skylark-domx-velm","skylark-domx-query","skylark-domx-plugins","skylark-data-collection/HashMap","./base"],function(t,i,e,n,s,r,a,o,h,l,d,u){var c=l.Plugin.inherit({klassName:"Widget",_elmx:o,_construct:function(t,e){i.isHtmlNode(t)?e=this._parse(t,e):(e=t,t=null),this.overrided(t,e),t?this._velm=o(this._elm):(this._velm=this._create(),this._elm=this._velm.elm()),Object.defineProperty(this,"state",{value:this.options.state||new d}),this._init();var n=this.options.addons;if(n){var s=this.constructor.addons;for(var r in n)for(var a=0;a<n[r].length;a++){var h=n[r][a];if(i.isString(h)){var l=h,u=s[r][l];this.addon(u)}}}},_parse:function(t,e){var s=n.data(t,"options");if(s){var r=JSON.parse("{"+s+"}");e=i.mixin(r,e)}return e||{}},_create:function(){var t=this.options.template;if(t)return this._elmx(t);throw new Error("The template is not existed in options!")},_init:function(){var t=this;this.widgetClass&&this._velm.addClass(this.widgetClass),this.state.on("changed",function(i,e){t._refresh(e.data)})},_startup:function(){},_refresh:function(t){},mapping:{events:{},attributs:{},properties:{},styles:{}},addon:function(t,i){var e=t.categoryName,n=t.addonName;return this._addons=this.addons||{},(this._addons[e]=this._addons[e]||{})[n]=new t(this,i),this},addons:function(t,e){this._addons=this.addons||{};var n=this._addons[t]=this._addons[t]||{};if(void 0==e)return i.clone(n||null);i.mixin(n,e)},render:function(){return this._elm},getEnclosing:function(t){return null},getEnclosed:function(){return children=new ArrayList,children},show:function(){this._velm.show()},hide:function(){this._velm.hide()},focus:function(){try{this._velm.focus()}catch(t){}return this},blur:function(){return this._velm.blur(),this},enable:function(){return this.state.set("disabled",!1),this},disable:function(){return this.state.set("disabled",!0),this},aria:function(t,i){const e=this,n=e.getEl(e.ariaTarget);return void 0===i?e._aria[t]:(e._aria[t]=i,e.state.get("rendered")&&n.setAttribute("role"===t?t:"aria-"+t,i),e)},attr:function(t,i){var e=this._velm,n=e.attr(t,i);return n==e?this:n},css:function(t,i){var e=this._velm,n=e.css(t,i);return n==e?this:n},data:function(t,i){var e=this._velm,n=e.data(t,i);return n==e?this:n},prop:function(t,i){var e=this._velm,n=e.prop(t,i);return n==e?this:n},throb:function(t){return r.throb(this._elm,t)},attach:function(t,i){var e=t;i&&"child"!=i?"before"==i?r.before(e,this._elm):"after"==i&&r.after(e,this._elm):r.append(e,this._elm),this._startup()},detach:function(){this._velm.remove()}});return c.inherit=function(t){var i=l.Plugin.inherit.apply(this,arguments);function e(t){i.prototype[t]=function(i){return void 0!==i?(this.state.set(t,i),this):this.state.get(t)}}if(t.state)for(var n in t.state)e(n);return t.pluginName&&l.register(i,t.pluginName),i},c.register=function(t,i){var e=t.prototype,n=i||e.pluginName;function s(i){t.prototype[i]=function(t){return void 0!==t?(this.state.set(i,t),this):this.state.get(i)}}if(e.state)for(var r in e.state)s(r);return n&&l.register(t,n),t},u.Widget=c});
//# sourceMappingURL=sourcemaps/Widget.js.map
